function clientCbOnFrameAdvance(%delta) 
{
if (isObject(localclientconnection.player))
{
if (containerRayCast(localclientconnection.player.getPosition(),localclientconnection.player.getPosition(),$TypeMasks::InteriorObjectType)!=0) // We dont want marble to be inside the interior
	{
	localclientconnection.player.setTransform(PivotR.getTransform());
	addBubbleLine("You have been teleported back up as you got stuck inside the interior",0,2000);
	}
}
}
//--- OBJECT WRITE BEGIN ---
new SimGroup(MissionGroup) {

   new ScriptObject(MissionInfo) {
         artist = "RandomityGuy";
         awesomeTime = "45000";
         blast = "0";
         desc = "A spiritual successor to centripetal force";
         forceRadar = "1";
         game = "PlatinumQuest";
         generalHint = "Everything is spinning, but not in the same direction. Use your bubble skills to navigate through the centrifuge. If you get stuck in the interior, don\'t worry, you will be whisked right back to the start.";
         level = "1000";
         mega = "0";
         music = "Waves in the Dark.ogg";
         name = "Centrifugal Force";
         noAntiCheckpoint = "0";
	 trivia = "The geometry of this level was again not made in constructor, I tried to smoothen the curves using Scale2Zero but that screwed stuff up so I had to manually smoothen the curve all by my own and halfway just gave up. Originally the level was not planned to have bubble, water and the changing gravity but that made the level so hard to be beaten or to be designed, especially those gems.";
         noBlast = "0";
         persistStartHelpTextTime = "0";
         platinumTime = "90000";
         radar = "1";
         startHelpText = "Don\'t get dizzy";
         time = "0";
         type = "Custom";
         ultimateHint = "Getting stuck is useful if you want to finish fast or to get to places fast";
         ultimateTime = "60000";
         useUltraMarble = "0";
   };
   new SimGroup(SceneryGroup) {

      new StaticShape() {
         position = "87.2852 -7.00209 115.146";
         rotation = "0 1 0 90.0002";
         scale = "30 30 30";
         dataBlock = "Window04O_3x3_light";
            skin = "blu_lighter";
      };
      new StaticShape() {
         position = "87.772 -7.03114 97.046";
         rotation = "0 1 0 90.0002";
         scale = "30 30 30";
         dataBlock = "Window04O_3x3_light";
            skin = "blu_lighter";
      };
   };
   new Item() {
      position = "-46.7651 14.2563 105.022";
      rotation = "0.437689 -0.620011 0.651164 139.43";
      scale = "1 1 1";
      dataBlock = "GemItem_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "ReversePivot";
         noParticles = "0";
         parentModTrans = "0 0 0 1 0.1 0 1.57";
         parentOffset = "0 0 -50";
         parentSimple = "0";
   };
   new SimGroup(MissionData) {

      new MissionArea(MissionArea) {
         area = "-360 -648 720 1296";
         flightCeiling = "300";
         flightCeilingRange = "20";
            locked = "true";
      };
      new Sky(Sky) {
         position = "0 0 0";
         rotation = "1 0 0 0";
         scale = "1 1 1";
         cloudHeightPer[0] = "0";
         cloudHeightPer[1] = "0";
         cloudHeightPer[2] = "0";
         cloudSpeed1 = "0.0001";
         cloudSpeed2 = "0.0002";
         cloudSpeed3 = "0.0003";
         visibleDistance = "500";
         useSkyTextures = "1";
         renderBottomTexture = "1";
         SkySolidColor = "0.600000 0.600000 0.600000 1.000000";
         fogDistance = "300";
         fogColor = "0.600000 0.600000 0.600000 1.000000";
         fogVolume1 = "-1 7.45949e-031 1.3684e-038";
         fogVolume2 = "-1 1.07208e-014 8.756e-014";
         fogVolume3 = "-1 5.1012e-010 2.05098e-008";
         materialList = "~/data/skies_pq/Wave/wave.dml";
         windVelocity = "1 0 0";
         windEffectPrecipitation = "1";
         noRenderBans = "1";
         fogVolumeColor1 = "128.000000 128.000000 128.000000 0.000000";
         fogVolumeColor2 = "128.000000 128.000000 128.000000 0.000004";
         fogVolumeColor3 = "128.000000 128.000000 128.000000 14435505.000000";
      };
   };
   new InteriorInstance() {
      position = "-1.52804 -7.03114 104.746";
      rotation = "1 0 0 0";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/custom/CFBack.dif";
      showTerrainInside = "0";
         Path = "PivotR";
   };
   new Sun() {
      direction = "0.638261 0.459006 -0.61801";
      color = "1.400000 1.200000 0.400000 1.000000";
      ambient = "0.300000 0.300000 0.400000 1.000000";
   };
   new Item() {
      position = "37.2224 19.1518 104.709";
      rotation = "-0.780588 0.441798 0.44215 104.006";
      scale = "1 1 1";
      dataBlock = "GemItem_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "PivotR";
         noParticles = "0";
         noRespawn = "0";
         parentModTrans = "0 0 0 -1 0 0 1.57";
         parentOffset = "-2.5 0 -46.7";
         parentSimple = "0";
   };
   new InteriorInstance() {
      position = "-1.52804 -7.03114 102.246";
      rotation = "0 0 1 180";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/custom/CFBlueO.dif";
      showTerrainInside = "0";
         Path = "PivotGreen";
   };
   new SimGroup(PathNodeGroup) {

      new StaticShape(ReversePivot) {
         position = "-1.52804 -7.03114 104.346";
         rotation = "0 0 1 180";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            Path = "L1";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "Next Node Object Name";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "5000";
            usePosition = "1";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(PivotL) {
         position = "-1.52804 -7.03114 103.546";
         rotation = "0 0 1 180";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            Parent = "PivotR";
            Path = "L1";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "Next Node Object Name";
            parentModTrans = "0 0 0 1 0 0 0";
            parentOffset = "0 0 2.5";
            parentSimple = "1";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "5000";
            usePosition = "1";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(L2) {
         position = "-20.13 -73.5301 120.167";
         rotation = "0 0 1 180";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "L1";
            placed = "1";
            reverseRotation = "1";
            speed = "0";
            timeToNext = "25000";
            usePosition = "0";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(L1) {
         position = "-24.4216 -75.3135 119.987";
         rotation = "1 0 0 0";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "L2";
            placed = "1";
            reverseRotation = "1";
            speed = "0";
            timeToNext = "25000";
            usePosition = "0";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(PivotGreen) {
         position = "-1.52804 -7.03114 102.246";
         rotation = "0 0 1 180";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            Path = "R3";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "Next Node Object Name";
            parentModTrans = "0 0 0 0 0 1 0.017";
            parentOffset = "0 0 -2.5";
            parentSimple = "0";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "5000";
            usePosition = "1";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(R4) {
         position = "-35.8773 -68.1203 123.614";
         rotation = "1 0 0 0";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "R3";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "35000";
            usePosition = "0";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(r1) {
         position = "-24.3645 -69.9729 119.723";
         rotation = "1 0 0 0";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "R2";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "25000";
            usePosition = "0";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(r3) {
         position = "-32.9413 -65.9383 123.614";
         rotation = "0 0 1 180";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "R4";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "35000";
            usePosition = "0";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(PivotR) {
         position = "-1.52804 -7.03114 104.746";
         rotation = "1 0 0 0";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            Path = "r1";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "Next Node Object Name";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "5000";
            usePosition = "1";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(r2) {
         position = "-21.4285 -67.7909 119.723";
         rotation = "0 0 1 180";
         scale = "1 1 1";
         dataBlock = "PathNode";
            FinalRotOffset = "0 0 0";
            RotationMultiplier = "1";
            Smooth = "0";
            SmoothEnd = "0";
            SmoothStart = "0";
            Spline = "0";
            bezier = "0";
            branchNodes = " ";
            delay = "0";
            nextNode = "R1";
            placed = "1";
            reverseRotation = "0";
            speed = "0";
            timeToNext = "25000";
            usePosition = "0";
            useRotation = "1";
            useScale = "1";
      };
      new StaticShape(CameraPath1) {
         position = "5.60823 -36.9964 120.213";
         rotation = "0.947629 0.0758874 -0.310226 28.9485";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath2";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath2) {
         position = "19.2776 -36.1084 124.945";
         rotation = "0.431419 0.154901 -0.888754 43.9968";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath3";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath3) {
         position = "42.8662 -17.6442 125.894";
         rotation = "0.225347 0.179189 -0.957659 79.4074";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath4";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath4) {
         position = "34.9143 18.5193 125.894";
         rotation = "-0.121679 -0.206814 0.970784 239.467";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath5";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath5) {
         position = "-2.54229 21.8557 119.15";
         rotation = "0.0093501 -0.176509 0.984255 174.031";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath6";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath6) {
         position = "-29.6863 5.21054 114.648";
         rotation = "0.135203 -0.189415 0.972544 110.463";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath7";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath7) {
         position = "-12.8778 -27.1629 106.504";
         rotation = "0.47278 -0.170569 0.864514 45.3035";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath8";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath8) {
         position = "8.8647 -52.2598 114.841";
         rotation = "0.97539 -0.0307268 0.218333 16.4204";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath9";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath9) {
         position = "35.2554 -27.2656 125.561";
         rotation = "0.497098 0.241736 -0.833341 60.5313";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath10";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath10) {
         position = "46.706 4.57161 127.72";
         rotation = "0.179637 0.243309 -0.953169 109.729";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath11";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath11) {
         position = "3.15432 40.5619 113.633";
         rotation = "0.00320754 -0.174203 0.984705 177.922";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath12";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath12) {
         position = "-46.4964 20.0806 113.633";
         rotation = "0.104283 -0.170812 0.97977 118.228";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath13";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath13) {
         position = "-52.5301 -43.5417 117.848";
         rotation = "0.361832 -0.189826 0.912712 59.7807";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath14";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
      new StaticShape(CameraPath14) {
         position = "-18.3551 -68.1924 132.924";
         rotation = "0.834497 -0.13103 0.535206 32.7009";
         scale = "1 1 1";
         dataBlock = "PathNode";
            nextNode = "CameraPath1";
            placed = "1";
            reverseRotation = "0";
            timeToNext = "3000";
            usePosition = "1";
            useRotation = "1";
            useScale = "0";
      };
   };
   new InteriorInstance() {
      position = "-1.52804 -7.03114 104.746";
      rotation = "1 0 0 0";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/custom/CFGreenO.dif";
      showTerrainInside = "0";
         Path = "PivotR";
   };
   new InteriorInstance() {
      position = "-1.52804 -7.03114 103.546";
      rotation = "0 0 1 180";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/custom/CFPurpleO.dif";
      showTerrainInside = "0";
         Path = "PivotL";
   };
   new Trigger(Well) {
      position = "-91.8875 82.9737 14.684";
      rotation = "1 0 0 0";
      scale = "180 180 180";
      dataBlock = "GravityWellTrigger";
      polyhedron = "0.0000000 0.0000000 0.0000000 1.0000000 0.0000000 0.0000000 0.0000000 -1.0000000 0.0000000 0.0000000 0.0000000 1.0000000";
         Axis = "z";
         CustomPoint = " -1.52804 -7.03114 104.746";
         UseRadius = "0";
         invert = "1";
   };
   new InteriorInstance() {
      position = "-4.74939 -4.10692 100.354";
      rotation = "3.68804e-006 1.26759e-006 1 180";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/unused/trolololo.dif";
      showTerrainInside = "0";
   };
   new StaticShape(StartPoint) {
      position = "-1.69697 -7.00681 100.424";
      rotation = "3.68804e-006 1.26759e-006 1 180";
      scale = "1 1 1";
      dataBlock = "StartPad_PQ";
         skin = "blue";
   };
   new InteriorInstance() {
      position = "1.23755 -4.09456 108.054";
      rotation = "1 0 0 180";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/unused/trolololo.dif";
      showTerrainInside = "0";
   };
   new InteriorInstance() {
      position = "-1.75438 -7.11127 108.269";
      rotation = "1 0 0 0";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/intermediate/GravityTowerRings.dif";
      showTerrainInside = "0";
   };
   new InteriorInstance() {
      position = "-1.75438 -7.11127 100.169";
      rotation = "1 0 0 0";
      scale = "1 1 1";
      interiorFile = "~/data/interiors_pq/intermediate/GravityTowerRings.dif";
      showTerrainInside = "0";
   };
   new InteriorInstance() {
      position = "-1.75438 -7.11127 108.804";
      rotation = "1 0 0 0";
      scale = "5 5 1";
      interiorFile = "~/data/interiors_pq/intermediate/GravityTowerRings.dif";
      showTerrainInside = "0";
   };
   new InteriorInstance() {
      position = "-1.75438 -7.11127 100.169";
      rotation = "1 0 0 0";
      scale = "5 5 1";
      interiorFile = "~/data/interiors_pq/intermediate/GravityTowerRings.dif";
      showTerrainInside = "0";
   };
   new StaticShape(EndPoint) {
      position = "-1.69697 -7.00681 108.054";
      rotation = "1 0 0 180";
      scale = "1 1 1";
      dataBlock = "EndPad_PQ";
         skin = "cyan";
   };
   new Trigger(Wuter) {
      position = "-103.571 101.454 97.1387";
      rotation = "1 0 0 0";
      scale = "197.891 190.421 30";
      dataBlock = "WaterPhysicsTrigger";
      polyhedron = "0.0000000 0.0000000 0.0000000 1.0000000 0.0000000 0.0000000 0.0000000 -1.0000000 0.0000000 0.0000000 0.0000000 1.0000000";
         VelocityMultiplier = "2";
   };
   new Item() {
      position = "-1.59524 -7.06226 103.875";
      rotation = "1 0 0 0";
      scale = "1 1 1";
      dataBlock = "BubbleItem";
      collideable = "0";
      static = "1";
      rotate = "1";
         infinite = "1";
         noParticles = "0";
         noRespawn = "0";
         showHelpOnPickup = "0";
         time = "5000";
   };
   new Item() {
      position = "42.1866 10.3593 103.642";
      rotation = "0.711394 0.0576929 -0.700422 202.85";
      scale = "1 1 1";
      dataBlock = "GemItemRed_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "PivotGreen";
         noParticles = "0";
         parentModTrans = "0 0 0 0 1 0.2 -1.57";
         parentOffset = "-2.5 -0.3 -47";
         parentSimple = "0";
   };
   new Item() {
      position = "-8.73356 4.38668 104.735";
      rotation = "-0.441798 -0.780588 0.44215 104.006";
      scale = "1 1 1";
      dataBlock = "GemItemGreen_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "PivotL";
         noParticles = "0";
         parentModTrans = "0 0 0 0 -1 0 1.57";
         parentOffset = "2.5 -0.3 -13.5";
         parentSimple = "0";
   };
   new Item() {
      position = "-54.776 -16.0289 104.703";
      rotation = "0.705667 0.0572285 0.706229 173.444";
      scale = "1 1 1";
      dataBlock = "GemItemBlue_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "PivotGreen";
         noParticles = "0";
         parentModTrans = "0 0 0 0 1 0 1.57";
         parentOffset = "2.5 0.3 -54";
         parentSimple = "0";
   };
   new Item() {
      position = "13.3196 -18.0672 104.411";
      rotation = "-0.30494 0.691439 0.654923 139.217";
      scale = "1 1 1";
      dataBlock = "GemItem_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "ReversePivot";
         noParticles = "0";
         parentModTrans = "0 0 0 -1 0.1 0 1.57";
         parentOffset = "0 0 -18.5";
         parentSimple = "0";
   };
   new Item() {
      position = "-11.3086 -23.3204 104.331";
      rotation = "0.656259 0.371431 0.656782 139.217";
      scale = "1 1 1";
      dataBlock = "GemItem_PQ";
      collideable = "0";
      static = "1";
      rotate = "1";
         Parent = "ReversePivot";
         noParticles = "0";
         parentModTrans = "0 0 0 0 1 0 1.57";
         parentOffset = "0 0 -19";
         parentSimple = "0";
   };
   new AudioProfile(MusicProfile) {
      fileName = "~/data/sound/music/Electroforte.ogg";
      description = "AudioMusic";
      preload = "0";
   };
};
//--- OBJECT WRITE END ---
