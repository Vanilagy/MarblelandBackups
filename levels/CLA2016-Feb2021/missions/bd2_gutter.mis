//--- OBJECT WRITE BEGIN ---
new SimGroup(MissionGroup) {

   new ScriptObject(MissionInfo) {
         artist = "Brian Greenstone";
         desc = "Converted from Bugdom 2 (c) 2003-2010 Pangea Software";
         goldTime = "80000";
         level = "2";
         name = "Level 7: The Gutter";
         time = "0";
         type = "Custom";
   };
   new Sky(Sky) {
      position = "336 136 0";
      rotation = "1 0 0 0";
      scale = "1 1 1";
      cloudHeightPer[0] = "0.349971";
      cloudHeightPer[1] = "0.3";
      cloudHeightPer[2] = "0.199973";
      cloudSpeed1 = "0.0005";
      cloudSpeed2 = "0.001";
      cloudSpeed3 = "0.0003";
      visibleDistance = "500";
      useSkyTextures = "1";
      renderBottomTexture = "1";
      SkySolidColor = "0.900000 0.900000 0.900000 1.000000";
      fogDistance = "300";
      fogColor = "0.600000 0.600000 0.600000 1.000000";
      fogVolume1 = "0 0 0";
      fogVolume2 = "0 0 0";
      fogVolume3 = "0 0 0";
      materialList = "~/data/skies/sky_day.dml";
      windVelocity = "1 1 0";
      windEffectPrecipitation = "1";
      noRenderBans = "1";
      fogVolumeColor1 = "128.000000 128.000000 128.000000 -222768174765569861149077900047473967104.000000";
      fogVolumeColor2 = "128.000000 128.000000 128.000000 0.000000";
      fogVolumeColor3 = "128.000000 128.000000 128.000000 -170698929442160049016675429178998259712.000000";
         locked = "true";
   };
   new Sun() {
      direction = "0.496904 -0.7950464 -0.3478328";
      color = "1.000000 1.000000 1.000000 1.000000";
      ambient = "0.600000 0.600000 0.600000 1.000000";
         locked = "true";
         position = "0 0 0";
         rotation = "1 0 0 0";
         scale = "1 1 1";
   };
   new StaticShape(EndPoint) {
      position = "978.79 -79.25 -53";
      rotation = "0 -1 0 9.99997";
      scale = "1.5 1.5 0.2";
      dataBlock = "EndPad";
   };
   new StaticShape(StartPoint) {
      position = "9.75 0.25 -4.25";
      rotation = "0 0 1 90";
      scale = "1 1 1";
      dataBlock = "StartPad";
   };
   new Trigger(Bounds) {
      position = "-14.97297 -182.871 -87.97961";
      rotation = "1 0 0 0";
      scale = "1106.413 329.7304 400";
      dataBlock = "InBoundsTrigger";
      polyhedron = "0.0000000 0.0000000 0.0000000 1.0000000 0.0000000 0.0000000 0.0000000 1.0000000 0.0000000 0.0000000 0.0000000 1.0000000";
   };
   new Trigger() {
      position = "0 124 -52.75";
      rotation = "1 0 0 0";
      scale = "720 300 20";
      dataBlock = "OutOfBoundsTrigger";
      polyhedron = "0.0000000 0.0000000 0.0000000 1.0000000 0.0000000 0.0000000 0.0000000 -1.0000000 0.0000000 0.0000000 0.0000000 1.0000000";
   };
};
//--- OBJECT WRITE END ---

for ($i = 0; $i < 137; $i ++) {
   MissionGroup.add(new InteriorInstance() {
      position = "0 0 0";
      rotation = "1 0 0 -90";
      scale = "1 1 1";
      interiorFile = "~/data/interiors/gutter/guttersection" @ $i @ "_1.dif";
      showTerrainInside = "0";
   });
   MissionGroup.add(new InteriorInstance() {
      position = "0 0 0";
      rotation = "1 0 0 -90";
      scale = "1 1 1";
      interiorFile = "~/data/interiors/gutter/guttersection" @ $i @ "_2.dif";
      showTerrainInside = "0";
   });
}

function additem(%id, %rot, %pos, %scale) {	
	%rot = getWords(MatrixMultiply("0 0 0 1 0 0 -1.57079", MatrixCreateFromEuler(%rot)), 3, 6);
	%rot = setWord(%rot, 3, getWord(%rot, 3) * 180 / $pi);
   MissionGroup.add(new InteriorInstance() {
      position = MatrixMulPoint("0 0 0 1 0 0 -1.57079", %pos);
      rotation = %rot;
      scale = %scale;
      interiorFile = "~/data/interiors/gutter/gutteritem" @ %id @ ".dif";
      showTerrainInside = "0";
   });
}
addItem(0,"0.38 -0.065 0","101.8 -3.1999 1.1","0.615 0.615 0.615");
addItem(0,"-0.395 0 0","152.8 -0.500359 -2.7","0.74 0.74 0.74");
addItem(1,"0 -0.305 0","184.3 -3.2 1.9","0.56 0.56 0.56");
addItem(0,"-1.62 0.485 0","209.5 -7.5 46.4","0.41 0.41 0.41");
addItem(0,"0 0 0","209.3 -6.9 51.5","0.495 0.495 0.495");
addItem(0,"-0.755 0.26 0","209.4 -6.9 58.8","0.59 0.59 0.59");
addItem(0,"0.41 0.26 0.715","209.1 -5.8 106.5","0.565 0.565 0.565");
addItem(1,"-0.115 0 0.86","211.8 -3.2 98.1","1 1 1");
addItem(1,"-0.725 2.145 0","218.3 -3.9 122.6","1 1 1");
addItem(1,"-1.11 -0.2 0","236 -1 136","1 1 1");
addItem(1,"0.225 3.08 0.08","255.2 -2.1 137.6","0.47 0.47 0.47");
addItem(1,"-0.73 0 0","283 -5.8 138.5","1 1 1");
addItem(0,"0.445 0 0","323.3 -17.5 139.8","0.625 0.625 0.625");
addItem(2,"0 0 0","34.4 0.024722 13.8","1 1 1");
addItem(2,"0 0 0","119.6 -0.939758 -14.5","1 1 1");
addItem(2,"0 0 0","161.1 0.869762 -16.9","1 1 1");
addItem(3,"0 0 0","195.5 -5.28846 57.8","1 1 1");
addItem(2,"0 0 0","219.5 -3.76234 -10","1 1 1");
addItem(2,"0 0 0","217.3 -0.936565 141.7","1 1 1");
addItem(2,"0 0 0","300 -14.6626 157.9","1 1 1");
addItem(2,"0 0 0","289.2 -9.64679 111.8","1 1 1");
addItem(3,"0 0.51 0","360.4 -16.1707 154.2","1 1 1");
addItem(2,"0 0 0","363.1 -25.9602 106.3","1 1 1");
addItem(2,"0 0 0","371.2 -24.8759 55.5","1 1 1");
addItem(2,"0 0 0","167.4 0.567825 20.9","1 1 1");
addItem(2,"0 0 0","175.5 -3.83063 119.2","1 1 1");
addItem(2,"0 0 0","421.3 -16.3543 132.2","1 1 1");
addItem(2,"0 0 0","434 -25.3223 71.5","1 1 1");
addItem(2,"0 0 0","413.7 -21.8716 19.1","1 1 1");
addItem(2,"0 0.475 0","356.5 -22.2983 24.2","1 1 1");
addItem(2,"0 0 0","371.4 -19.1515 -3","1 1 1");
addItem(2,"0 0 0","359.6 -12.9092 -68","1 1 1");
addItem(2,"0 1.01 0","353.9 -14.3142 -41.5","1 1 1");
addItem(2,"0 0 0","485.3 -15.8558 -89.8","1 1 1");
addItem(2,"0 0 0","462.4 -15.116 -27.7","1 1 1");
addItem(2,"0 0 0","537.9 -12.9747 -64","1 1 1");
addItem(2,"0 0 0","518.7 -1.6426 -26.4","0.815 0.815 0.815");
addItem(2,"0 0 0","571.4 -4.15987 -54.4","1 1 1");
addItem(2,"0 0.445 0","581.3 -5.66435 10.4","0.78 0.78 0.78");
addItem(2,"0 0 0","606.3 1.48721 -31.6","1 1 1");
addItem(2,"0 0 0","635.2 -1.8154 58.3","1 1 1");
addItem(2,"0 0 0","624.5 -9.87135 18.4","1 1 1");
addItem(2,"0 0 0","651.1 0.000511313 -20.8","1 1 1");
addItem(2,"0 0 0","602.4 -5.59533 -81.4","1 1 1");
addItem(2,"0 0 0","569.6 -4.66532 -113","1 1 1");
addItem(2,"0 0 0","615 -7.4424 -121.8","1 1 1");
addItem(2,"0 0 0","665.3 -11.9704 -84.5","1 1 1");
addItem(3,"0 0 0","704.8 -14.5205 -36.2","1 1 1");
addItem(2,"0 0 0","724.9 -15.4052 -69.6","1 1 1");
addItem(2,"0 0 0","748 -14.8666 -65.5","1 1 1");
addItem(2,"0 0 0","788.2 -20.0013 -37.7","1 1 1");
addItem(2,"0 0 0","788.9 -27.4446 -72.9","1 1 1");
addItem(2,"0 0 0","801.2 -27.2488 -87.3","1 1 1");
addItem(2,"0 0 0","767.8 -26.8264 -108.7","1 1 1");
addItem(2,"0 0 0","824.9 -26.2174 -108.3","1 1 1");
addItem(2,"0 0 0","844 -24.7634 -67.3","1 1 1");
addItem(2,"0 0 0","845.1 -27.9483 -12.2","1 1 1");
addItem(2,"0 0 0","870.2 -28.5026 1.1","1 1 1");
addItem(0,"0.3 0.3 0","374.2 -17 138.7","0.73 0.73 0.73");
addItem(0,"0 0 -0.79","363.8 -17.2 91.9","0.75 0.75 0.75");
addItem(0,"0 0 0","350.5 -25.2 116.2","0.65 0.65 0.65");
addItem(0,"0.545 1.275 0","390.6 -27.1 80.5","0.785 0.785 0.785");
addItem(0,"-0.165 0.61 0","391.1 -25.8 54.4","0.665 0.665 0.665");
addItem(0,"1.78 -1.035 0","393.6 -23.9 27.6","0.625 0.625 0.625");
addItem(1,"0.715 1.675 0","390.2 -22.1 2.4","1 1 1");
addItem(1,"0.065 -1.43 -0.585","390.1 -19.8 -15.9","0.75 0.75 0.75");
addItem(0,"-0.425 0 0","393.1 -15.6 -42.6","0.435 0.435 0.435");
addItem(1,"-0.44 0.195 0","436.8 -14.9 -55.4","1 1 1");
addItem(1,"-0.435 0.94 0","450.7 -17.4 -60.2","0.46 0.46 0.46");
addItem(1,"-0.36 0.42 0","460.8 -18.2 -62.3","0.725 0.725 0.725");
addItem(0,"-0.33 0.235 0","482.7 -17.3 -67.6","0.78 0.78 0.78");
addItem(0,"-0.305 1.015 0","508.7 -15.1 -65.8","0.6 0.6 0.6");
addItem(0,"-0.705 -0.095 0","529 -11.7 -44","0.435 0.435 0.435");
addItem(0,"-0.37 0 0","579.3 -0.5 -17.8","0.69 0.69 0.69");
addItem(1,"0.01 0.38 -0.635","609.3 -10.9 21.7","1 1 1");
addItem(1,"0.81 -0.18 -0.73","633 -0.3 27.7","1 1 1");
addItem(0,"0 -0.005 0.275","638.7 -1.2 -8.1","0.555 0.555 0.555");
addItem(0,"-0.355 0 0","636.6 -1.8 -40.6","0.445 0.445 0.445");
addItem(1,"-0.725 -0.06 0","674 -14.3 -48.2","0.535 0.535 0.535");
addItem(1,"-0.405 -0.025 0","684.6 -14.6 -48.6","0.545 0.545 0.545");
addItem(0,"0.26 0 0","695.4 -13.5 -48.6","0.585 0.585 0.585");
addItem(0,"0 0 0","740.2 -16.3 -50","0.63 0.63 0.63");
addItem(0,"0 0 0","743.5 -15.6 -49.8","0.785 0.785 0.785");
addItem(0,"0 0 0","749.7 -16.1 -48.7","0.51 0.51 0.51");
addItem(0,"-0.395 0.605 1.09","796.3 -21.1 -50.7","0.715 0.715 0.715");
addItem(0,"0 0 0","854.2 -26.6 -50.4","0.48 0.48 0.48");
addItem(1,"-0.825 2.63 -0.06","861.3 -26.6 -51.6","0.47 0.47 0.47");
addItem(1,"-1.485 3.055 0","868.2 -25.4 -51.9","0.685 0.685 0.685");
addItem(1,"0.045 -0.08 -0.85","901.3 -25 -30.2","0.555 0.555 0.555");
addItem(1,"-0.105 0 0.885","907.3 -24.5 -20.9","0.765 0.765 0.765");
addItem(1,"-0.215 0 -0.66","904.1 -24.7 -7.9","0.665 0.665 0.665");
addItem(1,"0.47 0.155 0","887.4 -30 12.9","0.765 0.765 0.765");
addItem(0,"0.14 1.07 -0.405","852.6 -29.8 12.5","0.8 0.8 0.8");
addItem(0,"0.34 1.095 0","829 -25.9 -42","0.46 0.46 0.46");
addItem(1,"-1.425 -0.52 1.455","794.2 -26.8 -97.9","1 1 1");
addItem(0,"-0.585 -1.765 0","769.5 -30.7 -64.9","0.41 0.41 0.41");
addItem(0,"0 0 0","774.2 -29.7 -36.9","0.36 0.36 0.36");
addItem(0,"-0.24 0.735 0","771 -28.3 -23.9","0.69 0.69 0.69");
addItem(0,"0.605 0 0","766.6 -29.6 -4.8","0.4 0.4 0.4");
addItem(0,"0 0 0","755 -33.8 14.7","0.455 0.455 0.455");
addItem(1,"0 0.99 0","743.4 -34.7 25","0.425 0.425 0.425");
addItem(1,"0 -1.97 0","739.9 -35.1 28.8","0.455 0.455 0.455");
addItem(1,"0 1.415 0","737 -35.7 33.8","0.54 0.54 0.54");
addItem(1,"-1.05 -1.29 0","731.6 -38.7 63.2","1 1 1");
addItem(1,"-1.28 -0.98 0","785.4 -44.1 101.5","1 1 1");
addItem(0,"-0.85 1.12 0","797.2 -44.7 109.8","0.51 0.51 0.51");
addItem(0,"0 0 0","802.823 -44.3002 110.701","0.745 0.745 0.745");
addItem(0,"1.02 0 0","820.5 -44.9 106.3","0.58 0.58 0.58");
addItem(2,"0 -0.265 0","818.4 -28.8713 14.8","1 1 1");
addItem(3,"0 -0.255 0","753.2 -27.6654 -10.2","1 1 1");
addItem(2,"0 0 0","768.1 -31.6021 20.1","1 1 1");
addItem(2,"0 0 0","758.7 -32.0189 29.5","1 1 1");
addItem(2,"0 0 0","725.7 -32.3483 3.4","1 1 1");
addItem(2,"0 0 0","745.5 -38.4571 56.1","1 1 1");
addItem(2,"0 0 0","767.9 -39.2182 83.3","1 1 1");
addItem(2,"0 0 0","798.8 -43.2166 95.9","1 1 1");
addItem(2,"0 0 0","828 -43.3002 117","1 1 1");
addItem(2,"0 0 0","845.5 -43.3062 96.2","1 1 1");
addItem(2,"0 0 0","860.2 -43.3055 118.5","1 1 1");
addItem(2,"0 0 0","878.377 -44.1884 93.608","1 1 1");
addItem(2,"0 0 0","904.601 -43.2856 104","1 1 1");
addItem(2,"0 0 0","893.475 -43.308 79.0586","1 1 1");
addItem(2,"0 0 0","918.352 -43.414 92.8088","1 1 1");
addItem(2,"0 0 0","890.4 -24.4239 -35.5","1 1 1");
addItem(2,"0 0 0","650.1 0.0010288 -1.2","1 1 1");
addItem(2,"0 0 0","624.1 -0.000719519 -13.4","1 1 1");
addItem(2,"0 0 0","545.3 -0.139338 -32.1","1 1 1");
addItem(3,"0 -0.415 0","505.9 -13.3082 -50.2","1 1 1");
addItem(2,"0 0 0","430 -11.4015 -68.3","1 1 1");
addItem(2,"0 0 0","407.7 -12.6909 -47.6","1 1 1");
addItem(2,"0 0 0","246.3 0.463234 120.4","1 1 1");
addItem(2,"0 0 0","225.5 -3.82527 100.4","1 1 1");
addItem(3,"0 0 0","933.6 -43.9235 68.3","1 1 1");
addItem(2,"0 0 0","961.7 -47.6993 65.5","1 1 1");
addItem(2,"0 0 0","972.3 -49.2481 92.9","1 1 1");
addItem(2,"0 0 0","996.4 -53.3629 95","1 1 1");
addItem(2,"0 0 0","1011.4 -56.6248 60.8","1 1 1");
addItem(2,"0 0 0","1030.5 -62.8232 55.9","1 1 1");
addItem(2,"0 0 0","1066.4 -84.8334 65","1 1 1");
addItem(2,"0 0 0","1049.7 -80.3058 96.1","1 1 1");
addItem(2,"0 0 0","1020.7 -59.1282 92","1 1 1");

//These lag you to death
disableShaders();
